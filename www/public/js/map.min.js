"use strict";function onLocationFound(a){locationMarker.setLatLng(a.latlng),initialLocationSet||(initialLocationSet=!0,map.locate({watch:!0}))}function onLocationError(a){initialLocationSet||(initialLocationSet=!0)}function loadRawData(){return $.ajax({url:"data",type:"GET",data:{pokemon:map.hasLayer(pokemonLayer),pokestops:!!map.hasLayer(pokestopsLayer)||!!map.hasLayer(luredPokestopsLayer)&&"lured",gyms:map.hasLayer(gymsLayer),scanned_locations:map.hasLayer(scannedLocationsLayer),s:map.getBounds().getSouth(),w:map.getBounds().getWest(),n:map.getBounds().getNorth(),e:map.getBounds().getEast()},dataType:"json",cache:!1,beforeSend:function(){return!rawDataIsLoading&&void(rawDataIsLoading=!0)},complete:function(){rawDataIsLoading=!1}})}function formatHash(a,b,c){var d=Math.max(0,Math.ceil(Math.log(a)/Math.LN2));return"#"+[a,b.toFixed(d),c.toFixed(d)].join("/")}function updatePokemonPopup(a,b){var c=a.pokemon_id,d=a.latitude,e=a.longitude,f=new Date(a.disappear_time),g="<div>"+("<strong>"+pkmn.getPokemonName(c)+"</strong> - ")+('<a href="http://www.pokemon.com/us/pokedex/'+c+'">#'+c+"</a>")+"</div><div>"+("Desaparece às "+utils.formatTime(f)+" ")+('(<span class="popup-countdown" data-expire-time="'+a.disappear_time+'">('+utils.formatTimeDifference(0)+")</span>)")+"</div><div>"+("Localização: "+d.toFixed(6)+", "+e.toFixed(6))+"</div><div>"+('<a href="https://www.google.com/maps/dir/My+Location/'+d+","+e+'" target="_blank">Get directions</a>')+"&nbsp;&nbsp;"+('<a href=".'+formatHash(18,d,e)+'" target="_blank">Link</a>')+"&nbsp;&nbsp;"+('<a href="javascript:hidePokemon('+c+')">Ocultar</a>')+"</div>";b.setContent(g),updateTimeRemainingPopups()}function updatePokestopPopup(a,b){var c=a.latitude,d=a.longitude,e=a.lure_expiration,f=void 0;if(e){var g=new Date(a.lure_expiration);f="<div><strong>Lured Pokéstop</strong></div><div><div>"+("Expira às "+utils.formatTime(g)+" ")+('(<span class="popup-countdown" data-expire-time="'+a.lure_expiration+'">'+utils.formatTimeDifference(0)+"</span>)")+"</div>"}else f="<div><strong>Pokéstop</strong></div>";f+="<div>"+("Localização: "+c.toFixed(6)+", "+d.toFixed(6))+"</div><div>"+('<a href="https://www.google.com/maps/dir/My+Location/'+c+","+d+'" target="_blank">Get directions</a>')+"&nbsp;&nbsp;"+('<a href=".'+formatHash(18,c,d)+'" target="_blank">Link</a>')+"</div>",b.setContent(f),e&&updateTimeRemainingPopups()}function updateGymPopup(a,b){var c=a.latitude,d=a.longitude,e=a.team_id,f="<div style='text-align: center;'>"+("<div><strong>"+pkmn.getTeamName(e)+"</strong></div>")+('<img src="static/images/team-'+e+'.png" srcset="static/images/team-'+e+'-2x.png 2x">')+"</div>";if(0!==e){var g=a.gym_points,h=pkmn.getGymLevel(g);f+="<div>Level "+h+" | Prestige: "+g+"/"+pkmn.getGymPointsToNextLevel(h)+"</div>"}f+="<div>"+("Localização: "+c.toFixed(6)+", "+d.toFixed(6))+"</div><div>"+('<a href="https://www.google.com/maps/dir/My+Location/'+c+","+d+'" target="_blank">Get directions</a>')+"&nbsp;&nbsp;"+('<a href=".'+formatHash(18,c,d)+'" target="_blank">Link</a>')+"</div>",b.setContent(f)}function updateTimeRemainingPopups(){$(".popup-countdown").each(function(a,b){var c=parseInt(b.getAttribute("data-expire-time")),d=(new Date).getTime(),e=c-d,f=void 0;f=e<0?"expirado":utils.formatTimeDifference(e),$(b).text(f)})}function clearExpired(){var a=(new Date).getTime();$.each(mapData.pokemon,function(b,c){c.disappear_time<a&&(pokemonLayer.removeLayer(c.marker),delete mapData.pokemon[b].marker,delete mapData.pokemon[b])}),$.each(mapData.pokestop,function(b,c){c.lure_expiration&&c.lure_expiration<a&&(luredPokestopsLayer.removeLayer(c.marker),delete mapData.pokestops[b].marker,delete mapData.pokestops[b])}),$.each(mapData.scannedLocations,function(b,c){c.last_modified+9e5<a&&(scannedLocationsLayer.removeLayer(c.circle),delete mapData.pokemon[b].circle,delete mapData.pokemon[b])})}function clearOutOfBounds(){var a=map.getBounds();a.pad(4),$.each(mapData.pokemon,function(b,c){a.contains(c.marker.getLatLng())||(pokemonLayer.removeLayer(c.marker),delete mapData.pokemon[b].marker,delete mapData.pokemon[b])}),$.each(mapData.pokestops,function(b,c){a.contains(c.marker.getLatLng())||(pokestopsLayer.removeLayer(c.marker),delete mapData.pokestops[b].marker,delete mapData.pokestops[b])}),$.each(mapData.gyms,function(b,c){a.contains(c.marker.getLatLng())||(gymsLayer.removeLayer(c.marker),delete mapData.gyms[b].marker,delete mapData.gyms[b])}),$.each(mapData.scannedLocations,function(b,c){a.contains(c.circle.getLatLng())||(scannedLocationsLayer.removeLayer(c.circle),delete mapData.scannedLocations[b].circle,delete mapData.scannedLocations[b])})}function processPokemon(a,b){var c=b.pokemon_id;if(store.get("pokemonEnabled["+c+"]")!==!1){var d=L.latLng(b.latitude,b.longitude),e=b.encounter_id;if(e in mapData.pokemon){var f=mapData.pokemon[e].marker;mapData.pokemon[e]=b,mapData.pokemon[e].marker=f}else!function(){var a=L.marker(d,{icon:pkmn.getPokemonIcon(c)}),f=L.popup();a.bindPopup(f),a.on("popupopen",function(a){updatePokemonPopup(b,f)}),pokemonLayer.addLayer(a),mapData.pokemon[e]=b,mapData.pokemon[e].marker=a}()}}function processPokestop(a,b){var c=L.latLng(b.latitude,b.longitude),d=b.latitude+","+b.longitude,e=!!b.lure_expiration;if(d in mapData.pokestops){var f=Boolean(mapData.pokestops[d].lure_expiration),g=mapData.pokestops[d].marker;mapData.pokestops[d]=b,mapData.pokestops[d].marker=g,f!==e&&(e?(pokestopsLayer.removeLayer(g),luredPokestopsLayer.addLayer(g)):(luredPokestopsLayer.removeLayer(g),pokestopsLayer.addLayer(g)),g.setIcon(pkmn.getPokestopIcon(e)))}else!function(){var a=L.marker(c,{icon:pkmn.getPokestopIcon(e)}),f=L.popup();a.bindPopup(f),a.on("popupopen",function(a){updatePokestopPopup(b,f)}),e?luredPokestopsLayer.addLayer(a):pokestopsLayer.addLayer(a),mapData.pokestops[d]=b,mapData.pokestops[d].marker=a}()}function processGym(a,b){var c=L.latLng(b.latitude,b.longitude),d=b.latitude+","+b.longitude,e=b.team_id;if(d in mapData.gyms){var f=mapData.gyms[d].marker;mapData.gyms[d]=b,mapData.gyms[d].marker=f,f.setIcon(pkmn.getGymIcon(e))}else!function(){var a=L.marker(c,{icon:pkmn.getGymIcon(e)}),f=L.popup();a.bindPopup(f),a.on("popupopen",function(a){updateGymPopup(b,f)}),gymsLayer.addLayer(a),mapData.gyms[d]=b,mapData.gyms[d].marker=a}()}function getScannedLocationColor(a){var b=(Date.now()-a)/1e3/60/15;b>1?b=1:b<0&&(b=0);var c=120*(1-b);return c=(5*Math.round(c/5)).toString(),"hsl("+c+",100%,50%)"}function processScannedLocation(a,b){var c=L.latLng(b.latitude,b.longitude),d=b.latitude+","+b.longitude,e=getScannedLocationColor(b.last_modified);if(d in mapData.scannedLocations){var f=mapData.scannedLocations[d].circle;mapData.scannedLocations[d]=b,mapData.scannedLocations[d].circle=f,f.options.color!==e&&f.setStyle({color:e})}else{var g=L.circle(c,70,{color:e,weight:1,fillOpacity:.1,clickable:!1});scannedLocationsLayer.addLayer(g),mapData.scannedLocations[d]=b,mapData.scannedLocations[d].circle=g}}function reloadMap(){clearOutOfBounds(),loadRawData().done(function(a){console.log(a),$.each(a.pokemon,processPokemon),$.each(a.pokestops,processPokestop),$.each(a.gyms,processGym),$.each(a.scanned_locations,processScannedLocation),updateTimeRemainingPopups()})}function onChangePokemonFilter(a,b){b||$.each(mapData.pokemon,function(b,c){c.pokemon_id===a&&(pokemonLayer.removeLayer(c.marker),delete mapData.pokemon[b].marker,delete mapData.pokemon[b])})}function hidePokemon(a){return store.set("pokemonEnabled["+a+"]",!1),onChangePokemonFilter(a,!1),!1}!function(a){a.ResponsiveIcon=a.DivIcon.extend({options:{html:'<div class="responsive-icon"></div>'}}),a.responsiveIcon=function(b){return new a.ResponsiveIcon(b)},a.Map.addInitHook(function(){var a=this;a.on("zoomend",function(b){var c=a.getContainer(),d=a.getZoom(),e=c.className;e=e.replace(/\szoom-[0-9]{1,2}/g,"")+" zoom-"+d,c.className=e})})}(L),function(a){function b(a){return j[a.toString()]||"Unknown #"+a}function c(a){return a=a.replace("♀","M"),a=a.replace("♂","F"),a=a.replace(/\W+/,""),a=a.toLowerCase(),k[a]}function d(){return Object.keys(j)}function e(a){return l[a.toString()]||"Unknown #"+a}function f(a){return a=a.replace(/\W+/,""),a=a.toLowerCase(),m[a]}function g(){return Object.keys(m)}function h(a){a=a<5e4?a:5e4;for(var b=1;a>=n[b-1];)b++;return b}function i(a){return a>=10?5e4:n[a-1]}var j={1:"Bulbasaur",2:"Ivysaur",3:"Venusaur",4:"Charmander",5:"Charmeleon",6:"Charizard",7:"Squirtle",8:"Wartortle",9:"Blastoise",10:"Caterpie",11:"Metapod",12:"Butterfree",13:"Weedle",14:"Kakuna",15:"Beedrill",16:"Pidgey",17:"Pidgeotto",18:"Pidgeot",19:"Rattata",20:"Raticate",21:"Spearow",22:"Fearow",23:"Ekans",24:"Arbok",25:"Pikachu",26:"Raichu",27:"Sandshrew",28:"Sandslash",29:"Nidoran♀",30:"Nidorina",31:"Nidoqueen",32:"Nidoran♂",33:"Nidorino",34:"Nidoking",35:"Clefairy",36:"Clefable",37:"Vulpix",38:"Ninetales",39:"Jigglypuff",40:"Wigglytuff",41:"Zubat",42:"Golbat",43:"Oddish",44:"Gloom",45:"Vileplume",46:"Paras",47:"Parasect",48:"Venonat",49:"Venomoth",50:"Diglett",51:"Dugtrio",52:"Meowth",53:"Persian",54:"Psyduck",55:"Golduck",56:"Mankey",57:"Primeape",58:"Growlithe",59:"Arcanine",60:"Poliwag",61:"Poliwhirl",62:"Poliwrath",63:"Abra",64:"Kadabra",65:"Alakazam",66:"Machop",67:"Machoke",68:"Machamp",69:"Bellsprout",70:"Weepinbell",71:"Victreebel",72:"Tentacool",73:"Tentacruel",74:"Geodude",75:"Graveler",76:"Golem",77:"Ponyta",78:"Rapidash",79:"Slowpoke",80:"Slowbro",81:"Magnemite",82:"Magneton",83:"Farfetch'd",84:"Doduo",85:"Dodrio",86:"Seel",87:"Dewgong",88:"Grimer",89:"Muk",90:"Shellder",91:"Cloyster",92:"Gastly",93:"Haunter",94:"Gengar",95:"Onix",96:"Drowzee",97:"Hypno",98:"Krabby",99:"Kingler",100:"Voltorb",101:"Electrode",102:"Exeggcute",103:"Exeggutor",104:"Cubone",105:"Marowak",106:"Hitmonlee",107:"Hitmonchan",108:"Lickitung",109:"Koffing",110:"Weezing",111:"Rhyhorn",112:"Rhydon",113:"Chansey",114:"Tangela",115:"Kangaskhan",116:"Horsea",117:"Seadra",118:"Goldeen",119:"Seaking",120:"Staryu",121:"Starmie",122:"Mr. Mime",123:"Scyther",124:"Jynx",125:"Electabuzz",126:"Magmar",127:"Pinsir",128:"Tauros",129:"Magikarp",130:"Gyarados",131:"Lapras",132:"Ditto",133:"Eevee",134:"Vaporeon",135:"Jolteon",136:"Flareon",137:"Porygon",138:"Omanyte",139:"Omastar",140:"Kabuto",141:"Kabutops",142:"Aerodactyl",143:"Snorlax",144:"Articuno",145:"Zapdos",146:"Moltres",147:"Dratini",148:"Dragonair",149:"Dragonite",150:"Mewtwo",151:"Mew"},k={bulbasaur:1,ivysaur:2,venusaur:3,charmander:4,charmeleon:5,charizard:6,squirtle:7,wartortle:8,blastoise:9,caterpie:10,metapod:11,butterfree:12,weedle:13,kakuna:14,beedrill:15,pidgey:16,pidgeotto:17,pidgeot:18,rattata:19,raticate:20,spearow:21,fearow:22,ekans:23,arbok:24,pikachu:25,raichu:26,sandshrew:27,sandslash:28,nidoranf:29,nidorina:30,nidoqueen:31,nidoranm:32,nidorino:33,nidoking:34,clefairy:35,clefable:36,vulpix:37,ninetales:38,jigglypuff:39,wigglytuff:40,zubat:41,golbat:42,oddish:43,gloom:44,vileplume:45,paras:46,parasect:47,venonat:48,venomoth:49,diglett:50,dugtrio:51,meowth:52,persian:53,psyduck:54,golduck:55,mankey:56,primeape:57,growlithe:58,arcanine:59,poliwag:60,poliwhirl:61,poliwrath:62,abra:63,kadabra:64,alakazam:65,machop:66,machoke:67,machamp:68,bellsprout:69,weepinbell:70,victreebel:71,tentacool:72,tentacruel:73,geodude:74,graveler:75,golem:76,ponyta:77,rapidash:78,slowpoke:79,slowbro:80,magnemite:81,magneton:82,farfetchd:83,doduo:84,dodrio:85,seel:86,dewgong:87,grimer:88,muk:89,shellder:90,cloyster:91,gastly:92,haunter:93,gengar:94,onix:95,drowzee:96,hypno:97,krabby:98,kingler:99,voltorb:100,electrode:101,exeggcute:102,exeggutor:103,cubone:104,marowak:105,hitmonlee:106,hitmonchan:107,lickitung:108,koffing:109,weezing:110,rhyhorn:111,rhydon:112,chansey:113,tangela:114,kangaskhan:115,horsea:116,seadra:117,goldeen:118,seaking:119,staryu:120,starmie:121,mrmime:122,scyther:123,jynx:124,electabuzz:125,magmar:126,pinsir:127,tauros:128,magikarp:129,gyarados:130,lapras:131,ditto:132,eevee:133,vaporeon:134,jolteon:135,flareon:136,porygon:137,omanyte:138,omastar:139,kabuto:140,kabutops:141,aerodactyl:142,snorlax:143,articuno:144,zapdos:145,moltres:146,dratini:147,dragonair:148,dragonite:149,mewtwo:150,mew:151},l={0:"Neutral",1:"Mystic",2:"Valor",3:"Instinct"},m={uncontested:0,none:0,neutral:0,mystic:1,valor:2,instinct:3},n=[2e3,4e3,8e3,12e3,16e3,2e4,3e4,4e4,5e4],o={getPokemonName:b,getPokemonId:c,getPokemon:d,getTeamName:e,getTeamId:f,getTeams:g,getGymLevel:h,getGymPointsToNextLevel:i};a.pkmn=o}(window),function(a){var b=L.Icon.extend({options:{iconUrl:"static/images/icon-marker.png",retinaUrl:"static/images/icon-marker-2x.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[0,-41]}}),c=new b,d=L.ResponsiveIcon.extend({options:{iconSize:[65,65],popupAnchor:[0,-32]}}),e={},f={115:1,122:1,128:1,132:1,144:1,145:1,146:1,150:1,151:1,68:1,6:1,65:1,94:1,76:1,89:1,135:1,137:1,26:1,113:1,141:1,38:1,136:1,139:1,130:1,131:1,9:1,110:1,71:1,59:1,45:1,97:1,40:1,31:1,51:1,3:1,34:1,91:1,103:1,57:1,87:1,62:1,112:1,5:1,143:1,105:1,149:1,107:1,106:1,78:1,53:1,134:1,67:1,28:1,108:1,124:1,142:1,64:1,93:1,12:1,121:1,125:1,148:1,82:1,75:1,101:1,117:1,8:1,36:1,80:1,15:1,2:1,47:1,49:1,24:1};for(var g in pkmn.getPokemon())f[g]?e[g]=new d({className:"pokemon-sprite rare n"+g}):e[g]=new d({className:"pokemon-sprite n"+g});var h=L.ResponsiveIcon.extend({options:{iconSize:[31,31],popupAnchor:[0,-15]}}),i=new h({className:"pokestop"}),j=new h({className:"pokestop lured"}),k=L.ResponsiveIcon.extend({options:{iconSize:[36,36],popupAnchor:[0,-18]}}),l={};for(var m in pkmn.getTeams())l[m]=new k({className:"gym n"+m});Object.assign(a.pkmn,{getLocationIcon:function(){return c},getPokemonIcon:function(a){return e[a]},getPokestopIcon:function(a){return a?j:i},getGymIcon:function(a){return l[a]}})}(window),function(a){var b={Boolean:{parse:function(a){return["1","yes","true"].indexOf(a.toLowerCase())>=0},stringify:function(a){return a?"true":"false"}},JSON:{parse:function(a){return JSON.parse(a)},stringify:function(a){return JSON.stringify(a)}},String:{parse:function(a){return a},stringify:function(a){return a}},Number:{parse:function(a){return parseInt(a,10)},stringify:function(a){return a.toString()}}},c=function(a){this.options=a};c.prototype.getOption=function(a){var b=this.options[a];if(!b)throw new Error("Store key "+a+" was not defined");return b},c.prototype.get=function(a){var b=this.getOption(a),c=b.type,d=localStorage[a];if(null===d||void 0===d)return b.default;var e=c.parse(d);return e},c.prototype.set=function(a,c){var d=this.getOption(a),e=d.type||b.String,f=e.stringify(c);localStorage[a]=f},c.prototype.reset=function(a){localStorage.removeItem(a)},c.prototype.resetAll=function(){localStorage.clear()},a.StoreTypes=b,a.Store=c,a.store=new c({storeVersion:{default:0,type:b.Number},showPokemon:{default:!0,type:b.Boolean},showPokestops:{default:!1,type:b.Boolean},showLuredPokestops:{default:!0,type:b.Boolean},showGyms:{default:!1,type:b.Boolean},showScannedLocations:{default:!1,type:b.Boolean},"pokemonEnabled[1]":{default:!0,type:b.Boolean},"pokemonEnabled[2]":{default:!0,type:b.Boolean},"pokemonEnabled[3]":{default:!0,type:b.Boolean},"pokemonEnabled[4]":{default:!0,type:b.Boolean},"pokemonEnabled[5]":{default:!0,type:b.Boolean},"pokemonEnabled[6]":{default:!0,type:b.Boolean},"pokemonEnabled[7]":{default:!0,type:b.Boolean},"pokemonEnabled[8]":{default:!0,type:b.Boolean},"pokemonEnabled[9]":{default:!0,type:b.Boolean},"pokemonEnabled[10]":{default:!0,type:b.Boolean},"pokemonEnabled[11]":{default:!0,type:b.Boolean},"pokemonEnabled[12]":{default:!0,type:b.Boolean},"pokemonEnabled[13]":{default:!0,type:b.Boolean},"pokemonEnabled[14]":{default:!0,type:b.Boolean},"pokemonEnabled[15]":{default:!0,type:b.Boolean},"pokemonEnabled[16]":{default:!0,type:b.Boolean},"pokemonEnabled[17]":{default:!0,type:b.Boolean},"pokemonEnabled[18]":{default:!0,type:b.Boolean},"pokemonEnabled[19]":{default:!0,type:b.Boolean},"pokemonEnabled[20]":{default:!0,type:b.Boolean},"pokemonEnabled[21]":{default:!0,type:b.Boolean},"pokemonEnabled[22]":{default:!0,type:b.Boolean},"pokemonEnabled[23]":{default:!0,type:b.Boolean},"pokemonEnabled[24]":{default:!0,type:b.Boolean},"pokemonEnabled[25]":{default:!0,type:b.Boolean},"pokemonEnabled[26]":{default:!0,type:b.Boolean},"pokemonEnabled[27]":{default:!0,type:b.Boolean},"pokemonEnabled[28]":{default:!0,type:b.Boolean},"pokemonEnabled[29]":{default:!0,type:b.Boolean},"pokemonEnabled[30]":{default:!0,type:b.Boolean},"pokemonEnabled[31]":{default:!0,type:b.Boolean},"pokemonEnabled[32]":{default:!0,type:b.Boolean},"pokemonEnabled[33]":{default:!0,type:b.Boolean},"pokemonEnabled[34]":{default:!0,type:b.Boolean},"pokemonEnabled[35]":{default:!0,type:b.Boolean},"pokemonEnabled[36]":{default:!0,type:b.Boolean},"pokemonEnabled[37]":{default:!0,type:b.Boolean},"pokemonEnabled[38]":{default:!0,type:b.Boolean},"pokemonEnabled[39]":{default:!0,type:b.Boolean},"pokemonEnabled[40]":{default:!0,type:b.Boolean},"pokemonEnabled[41]":{default:!0,type:b.Boolean},"pokemonEnabled[42]":{default:!0,type:b.Boolean},"pokemonEnabled[43]":{default:!0,type:b.Boolean},"pokemonEnabled[44]":{default:!0,type:b.Boolean},"pokemonEnabled[45]":{default:!0,type:b.Boolean},"pokemonEnabled[46]":{default:!0,type:b.Boolean},"pokemonEnabled[47]":{default:!0,type:b.Boolean},"pokemonEnabled[48]":{default:!0,type:b.Boolean},"pokemonEnabled[49]":{default:!0,type:b.Boolean},"pokemonEnabled[50]":{default:!0,type:b.Boolean},"pokemonEnabled[51]":{default:!0,type:b.Boolean},"pokemonEnabled[52]":{default:!0,type:b.Boolean},"pokemonEnabled[53]":{default:!0,type:b.Boolean},"pokemonEnabled[54]":{default:!0,type:b.Boolean},"pokemonEnabled[55]":{default:!0,type:b.Boolean},"pokemonEnabled[56]":{default:!0,type:b.Boolean},"pokemonEnabled[57]":{default:!0,type:b.Boolean},"pokemonEnabled[58]":{default:!0,type:b.Boolean},"pokemonEnabled[59]":{default:!0,type:b.Boolean},"pokemonEnabled[60]":{default:!0,type:b.Boolean},"pokemonEnabled[61]":{default:!0,type:b.Boolean},"pokemonEnabled[62]":{default:!0,type:b.Boolean},"pokemonEnabled[63]":{default:!0,type:b.Boolean},"pokemonEnabled[64]":{default:!0,type:b.Boolean},"pokemonEnabled[65]":{default:!0,type:b.Boolean},"pokemonEnabled[66]":{default:!0,type:b.Boolean},"pokemonEnabled[67]":{default:!0,type:b.Boolean},"pokemonEnabled[68]":{default:!0,type:b.Boolean},"pokemonEnabled[69]":{default:!0,type:b.Boolean},"pokemonEnabled[70]":{default:!0,type:b.Boolean},"pokemonEnabled[71]":{default:!0,type:b.Boolean},"pokemonEnabled[72]":{default:!0,type:b.Boolean},"pokemonEnabled[73]":{default:!0,type:b.Boolean},"pokemonEnabled[74]":{default:!0,type:b.Boolean},"pokemonEnabled[75]":{default:!0,type:b.Boolean},"pokemonEnabled[76]":{default:!0,type:b.Boolean},"pokemonEnabled[77]":{default:!0,type:b.Boolean},"pokemonEnabled[78]":{default:!0,type:b.Boolean},"pokemonEnabled[79]":{default:!0,type:b.Boolean},"pokemonEnabled[80]":{default:!0,type:b.Boolean},"pokemonEnabled[81]":{default:!0,type:b.Boolean},"pokemonEnabled[82]":{default:!0,type:b.Boolean},"pokemonEnabled[83]":{default:!0,type:b.Boolean},"pokemonEnabled[84]":{default:!0,type:b.Boolean},"pokemonEnabled[85]":{default:!0,type:b.Boolean},"pokemonEnabled[86]":{default:!0,type:b.Boolean},"pokemonEnabled[87]":{default:!0,type:b.Boolean},"pokemonEnabled[88]":{default:!0,type:b.Boolean},"pokemonEnabled[89]":{default:!0,type:b.Boolean},"pokemonEnabled[90]":{default:!0,type:b.Boolean},"pokemonEnabled[91]":{default:!0,type:b.Boolean},"pokemonEnabled[92]":{default:!0,type:b.Boolean},"pokemonEnabled[93]":{default:!0,type:b.Boolean},"pokemonEnabled[94]":{default:!0,type:b.Boolean},"pokemonEnabled[95]":{default:!0,type:b.Boolean},"pokemonEnabled[96]":{default:!0,type:b.Boolean},"pokemonEnabled[97]":{default:!0,type:b.Boolean},"pokemonEnabled[98]":{default:!0,type:b.Boolean},"pokemonEnabled[99]":{default:!0,type:b.Boolean},"pokemonEnabled[100]":{default:!0,type:b.Boolean},"pokemonEnabled[101]":{default:!0,type:b.Boolean},"pokemonEnabled[102]":{default:!0,type:b.Boolean},"pokemonEnabled[103]":{default:!0,type:b.Boolean},"pokemonEnabled[104]":{default:!0,type:b.Boolean},"pokemonEnabled[105]":{default:!0,type:b.Boolean},"pokemonEnabled[106]":{default:!0,type:b.Boolean},"pokemonEnabled[107]":{default:!0,type:b.Boolean},"pokemonEnabled[108]":{default:!0,type:b.Boolean},"pokemonEnabled[109]":{default:!0,type:b.Boolean},"pokemonEnabled[110]":{default:!0,type:b.Boolean},"pokemonEnabled[111]":{default:!0,type:b.Boolean},"pokemonEnabled[112]":{default:!0,type:b.Boolean},"pokemonEnabled[113]":{default:!0,type:b.Boolean},"pokemonEnabled[114]":{default:!0,type:b.Boolean},"pokemonEnabled[115]":{default:!0,type:b.Boolean},"pokemonEnabled[116]":{default:!0,type:b.Boolean},"pokemonEnabled[117]":{default:!0,type:b.Boolean},"pokemonEnabled[118]":{default:!0,type:b.Boolean},"pokemonEnabled[119]":{default:!0,type:b.Boolean},"pokemonEnabled[120]":{default:!0,type:b.Boolean},"pokemonEnabled[121]":{default:!0,type:b.Boolean},"pokemonEnabled[122]":{default:!0,type:b.Boolean},"pokemonEnabled[123]":{default:!0,type:b.Boolean},"pokemonEnabled[124]":{default:!0,type:b.Boolean},"pokemonEnabled[125]":{default:!0,type:b.Boolean},"pokemonEnabled[126]":{default:!0,type:b.Boolean},"pokemonEnabled[127]":{default:!0,type:b.Boolean},"pokemonEnabled[128]":{default:!0,type:b.Boolean},"pokemonEnabled[129]":{default:!0,type:b.Boolean},"pokemonEnabled[130]":{default:!0,type:b.Boolean},"pokemonEnabled[131]":{default:!0,type:b.Boolean},"pokemonEnabled[132]":{default:!0,type:b.Boolean},"pokemonEnabled[133]":{default:!0,type:b.Boolean},"pokemonEnabled[134]":{default:!0,type:b.Boolean},"pokemonEnabled[135]":{default:!0,type:b.Boolean},"pokemonEnabled[136]":{default:!0,type:b.Boolean},"pokemonEnabled[137]":{default:!0,type:b.Boolean},"pokemonEnabled[138]":{default:!0,type:b.Boolean},"pokemonEnabled[139]":{default:!0,type:b.Boolean},"pokemonEnabled[140]":{default:!0,type:b.Boolean},"pokemonEnabled[141]":{default:!0,type:b.Boolean},"pokemonEnabled[142]":{default:!0,type:b.Boolean},"pokemonEnabled[143]":{default:!0,type:b.Boolean},"pokemonEnabled[144]":{default:!0,type:b.Boolean},"pokemonEnabled[145]":{default:!0,type:b.Boolean},"pokemonEnabled[146]":{default:!0,type:b.Boolean},"pokemonEnabled[147]":{default:!0,type:b.Boolean},"pokemonEnabled[148]":{default:!0,type:b.Boolean},"pokemonEnabled[149]":{default:!0,type:b.Boolean},"pokemonEnabled[150]":{default:!0,type:b.Boolean},"pokemonEnabled[151]":{default:!0,type:b.Boolean}}),store.get("storeVersion")<1&&(store.resetAll(),store.set("storeVersion",1))}(window),function(a){function b(a){return(a>9?"":"0")+a}function c(a){return b(a.getHours())+":"+b(a.getMinutes())+":"+b(a.getSeconds())}function d(a){var c=Math.abs(c),d=Math.floor(c%6e4/1e3),e=Math.floor(c%36e5/6e4);return b(e)+"m"+b(d)+"s"}a.utils={pad2:b,formatTime:c,formatTimeDifference:d}}(window),function(a){var b=a.Control.extend({options:{position:"bottomleft"},onAdd:function(b){var c=a.DomUtil.create("div","eevee-control-locate-button");return this._container=c,this._map=b,a.DomEvent.disableClickPropagation(c),a.Browser.touch||a.DomEvent.disableScrollPropagation(c),a.DomEvent.on(c,"click",a.DomEvent.stop).on(c,"click",this._onClick,this).on(c,"click",this._refocusOnMap,this),this._map.on("locationerror",this._removeClass,this),this._map.on("locationfound",this._removeClass,this),c},_onClick:function(b){a.DomUtil.addClass(this._container,"locating"),this._map.stopLocate().locate({setView:!0,maxZoom:16})},_removeClass:function(b){a.DomUtil.removeClass(this._container,"locating")}});a.LocateButton=b;var c=a.Control.extend({options:{position:"topright"},onAdd:function(b){var c=a.DomUtil.create("div","eevee-control-filter-button");return this._container=c,this._map=b,a.DomEvent.disableClickPropagation(c),a.Browser.touch||a.DomEvent.disableScrollPropagation(c),a.DomEvent.on(c,"click",a.DomEvent.stop).on(c,"click",this._onClick,this).on(c,"click",this._refocusOnMap,this),c},_onClick:function(a){this.options.onClick&&this.options.onClick(a)}});a.FilterButton=c}(L);var map=L.map("map",{maxBounds:mapMaxBounds,maxZoom:18}).fitBounds(mapViewBounds);location.href.indexOf("@")!==-1&&(location.hash="");var hash=new L.Hash(map);!function(){var a=hash.parseHash(location.hash);a&&(mapCenter=a.center)}();var locationMarker=L.marker(mapCenter,{icon:pkmn.getLocationIcon()}),osmLayer=L.tileLayer(tileServer,{errorTileUrl:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'});L.layerGroup([osmLayer,locationMarker]).addTo(map);var pokemonLayer=L.layerGroup(),pokestopsLayer=L.layerGroup(),luredPokestopsLayer=L.layerGroup(),gymsLayer=L.layerGroup(),scannedLocationsLayer=L.layerGroup();new L.FilterButton({onClick:function(a){$("#filter-window").toggleClass("enabled")}}).addTo(map);var overlays={"Pokémon":pokemonLayer,"Pokéstops":pokestopsLayer,"Lured Pokéstops":luredPokestopsLayer,Gyms:gymsLayer,"Scanned Locations":scannedLocationsLayer};store.get("showPokemon")&&pokemonLayer.addTo(map),store.get("showPokestops")&&pokestopsLayer.addTo(map),store.get("showLuredPokestops")&&luredPokestopsLayer.addTo(map),store.get("showGyms")&&gymsLayer.addTo(map),store.get("showScannedLocations")&&scannedLocationsLayer.addTo(map),L.control.layers(null,overlays).addTo(map),map.on("overlayadd",function(a){var b=void 0;a.layer===pokemonLayer?b="showPokemon":a.layer===pokestopsLayer?(b="showPokestops",map.hasLayer(luredPokestopsLayer)||setTimeout(function(){luredPokestopsLayer.addTo(map)},100)):a.layer===luredPokestopsLayer?b="showLuredPokestops":a.layer===gymsLayer?b="showGyms":a.layer===scannedLocationsLayer&&(b="showScannedLocations"),b&&store.set(b,!0)}),map.on("overlayremove",function(a){var b=void 0;a.layer===pokemonLayer?b="showPokemon":a.layer===pokestopsLayer?b="showPokestops":a.layer===luredPokestopsLayer?(b="showLuredPokestops",map.hasLayer(pokestopsLayer)&&setTimeout(function(){map.removeLayer(pokestopsLayer)},100)):a.layer===gymsLayer?b="showGyms":a.layer===scannedLocationsLayer&&(b="showScannedLocations"),b&&store.set(b,!1)}),(new L.LocateButton).addTo(map);var initialLocationSet=!1;map.on("locationfound",onLocationFound),map.on("locationerror",onLocationError);var rawDataIsLoading=!1,mapData={pokemon:{},pokestops:{},gyms:{},scannedLocations:{}};map.on("moveend",reloadMap),map.on("zoomend",reloadMap),map.on("resize",reloadMap),map.on("overlayadd",reloadMap),map.on("overlayremove",reloadMap),map.on("popupopen",updateTimeRemainingPopups),setInterval(updateTimeRemainingPopups,1e3),setInterval(reloadMap,5e3),setInterval(clearExpired,5e3),setTimeout(reloadMap,1),console.log(hidePokemon),function(){$(".filter-pkmn").each(function(){var a=parseInt($(this).attr("data-id"));$(this).prop("checked",store.get("pokemonEnabled["+a+"]"))}),$("#filter-remove-all").click(function(a){a.preventDefault(),$(".filter-pkmn").prop("checked",!1).trigger("change")}),$("#filter-add-all").click(function(a){a.preventDefault(),$(".filter-pkmn").prop("checked",!0).trigger("change")}),$("#filter-close").click(function(a){a.preventDefault(),$("#filter-window").removeClass("enabled")}),$(".filter-pkmn").change(function(a){var b=parseInt($(this).attr("data-id")),c=!!$(this).prop("checked");store.set("pokemonEnabled["+b+"]",c),onChangePokemonFilter(b,c)})}();
//# sourceMappingURL=map.min.js.map